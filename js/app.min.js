const tooltipTriggerList=[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));tooltipTriggerList.map(function(e){return new bootstrap.Tooltip(e)});const quizBasic=$("#quiz-basic"),quizSample=$("#quiz-sample"),calcIncome=$("#calc-income"),calcTax=$("#calc-tax");let darkMode=localStorage.getItem("prefer"),mode=!0;null!==darkMode&&(darkMode="1"===darkMode),(!window.matchMedia("(prefers-color-scheme: dark)").matches||darkMode)&&(null===darkMode||darkMode)||changeTheme(!1);let taxes={1:{urban:{unit:.51,basic:{people:.9,quiz:1.21},sample:{people:1.51,quiz:1.41}},rural:{unit:.56,basic:{people:1.01,quiz:1.34},sample:{people:1.67,quiz:1.57}}},2:{urban:{unit:.56,basic:{people:1.01,quiz:1.34},sample:{people:1.67,quiz:1.57}},rural:{unit:.62,basic:{people:1.1,quiz:1.46},sample:{people:1.83,quiz:1.7}}},3:{urban:{unit:.62,basic:{people:1.1,quiz:1.46},sample:{people:1.83,quiz:1.7}},rural:{unit:.69,basic:{people:1.21,quiz:1.61},sample:{people:2.01,quiz:1.89}}},4:{urban:{unit:.69,basic:{people:1.21,quiz:1.61},sample:{people:2.01,quiz:1.89}},rural:{unit:.75,basic:{people:1.33,quiz:1.76},sample:{people:2.21,quiz:2.07}}},5:{urban:{unit:.75,basic:{people:1.33,quiz:1.76},sample:{people:2.21,quiz:2.07}},rural:{unit:.82,basic:{people:1.46,quiz:1.94},sample:{people:2.45,quiz:2.28}}},6:{urban:{unit:.82,basic:{people:1.46,quiz:1.94},sample:{people:2.45,quiz:2.28}},rural:{unit:.9,basic:{people:1.6,quiz:2.14},sample:{people:2.68,quiz:2.51}}},7:{urban:{unit:.9,basic:{people:1.6,quiz:2.14},sample:{people:2.68,quiz:2.51}},rural:{unit:1,basic:{people:1.76,quiz:2.36},sample:{people:2.94,quiz:2.76}}},8:{urban:{unit:1,basic:{people:1.94,quiz:2.6},sample:{people:3.25,quiz:3.03}},rural:{unit:1.11,basic:{people:2.01,quiz:2.67},sample:{people:3.32,quiz:3.1}}},9:{urban:{unit:1.19,basic:{people:2.33,quiz:3.12},sample:{people:3.9,quiz:3.64}},rural:{unit:1.33,basic:{people:2.42,quiz:3.2},sample:{people:3.98,quiz:3.72}}},10:{urban:{unit:1.31,basic:{people:2.56,quiz:3.43},sample:{people:4.29,quiz:4}},rural:{unit:1.46,basic:{people:2.66,quiz:3.52},sample:{people:4.38,quiz:4.09}}},11:{urban:{unit:1.44,basic:{people:2.82,quiz:3.77},sample:{people:4.72,quiz:4.4}},rural:{unit:1.61,basic:{people:2.93,quiz:3.87},sample:{people:4.82,quiz:4.5}}}};function currency(e){return e.toLocaleString("pt-br",{style:"currency",currency:"BRL"})}function calcINSS(e){let a={taxe:14,discount:0};return e<=1212?a.taxe=7.5:e<=2427.35?(a.taxe=9,a.discount=18.18):e<=3641.03?(a.taxe=12,a.discount=91.01):e<=7087.22?(a.taxe=14,a.discount=163):a.discount=163-7087.22*.14,e<=7087.22&&(a.discount-=e/100*a.taxe),a}function calcIRRF(e){let a={taxe:0,discount:0};return e<=1903.98?a.taxe=0:e<=2826.65?(a.taxe=7.5,a.discount=142.8):e<=3751.05?(a.taxe=15,a.discount=354.8):e<=4664.68?(a.taxe=22.5,a.discount=636.13):(a.taxe=27.5,a.discount=869.36),a.discount-=e/100*a.taxe,a}function changeTheme(e=!0){(mode=!mode)?($(".form-control").addClass("form-control-dark"),$(".form-check-input").addClass("form-check-dark"),$("body").addClass("bg-black").addClass("text-gray").removeClass("bg-light"),$(".shadow-sm").addClass("bg-dark").removeClass("bg-white"),$(".list-group-item").addClass("bg-dark").addClass("text-gray"),$("#income").addClass("text-gray"),$(".btn").addClass("btn-dark").removeClass("btn-secondary"),$(".dark-mode").addClass("bg-dark"),$(".bg-change").removeClass("bg-white"),$(".bi-moon").addClass("bi-sun").removeClass("bi-moon"),$(".input-group-text").addClass("input-group-text-dark"),$(".nav-tabs").addClass("bg-black").removeClass("bg-light"),$(".nav-tabs a").addClass("text-light").removeClass("text-black"),$(".nav-tabs a.bg-white").addClass("bg-dark").removeClass("bg-white"),e&&localStorage.setItem("prefer","1")):($(".form-control").removeClass("form-control-dark"),$(".form-check-input").removeClass("form-check-dark"),$("body").removeClass("bg-black").removeClass("text-gray").addClass("bg-light"),$(".shadow-sm").removeClass("bg-dark").addClass("bg-white"),$(".list-group-item").removeClass("bg-dark").removeClass("text-gray"),$("#income").removeClass("text-gray"),$(".btn").removeClass("btn-dark").addClass("btn-secondary"),$(".dark-mode").removeClass("bg-dark"),$(".bg-change").addClass("bg-white"),$(".bi-sun").addClass("bi-moon").removeClass("bi-sun"),$(".input-group-text").removeClass("input-group-text-dark"),$(".nav-tabs").removeClass("bg-black").addClass("bg-light"),$(".nav-tabs a").removeClass("text-light").addClass("text-black"),$(".nav-tabs a.bg-dark").removeClass("bg-dark").addClass("bg-white"),e&&localStorage.setItem("prefer","0"))}calcIncome.on("hide.bs.collapse",()=>{mode?$("#btn-calc-income a").removeClass("bg-dark"):$("#btn-calc-income a").removeClass("bg-white")}),calcIncome.on("show.bs.collapse",()=>{mode?$("#btn-calc-income a").addClass("bg-dark"):$("#btn-calc-income a").addClass("bg-white"),bootstrap.Collapse.getOrCreateInstance(calcTax).hide()}),calcTax.on("hide.bs.collapse",()=>{mode?$("#btn-calc-tax a").removeClass("bg-dark"):$("#btn-calc-tax a").removeClass("bg-white")}),calcTax.on("show.bs.collapse",()=>{mode?$("#btn-calc-tax a").addClass("bg-dark"):$("#btn-calc-tax a").addClass("bg-white"),bootstrap.Collapse.getOrCreateInstance(calcIncome).hide()}),$("#tax-form").on("submit",function(e){e.preventDefault();let a=$("#calc-tax-success"),l=$("#calc-tax-error");if(a.addClass("d-none"),l.addClass("d-none"),this.checkValidity()){let s=parseFloat($("#value-units").val()),t=$('input[name="tax-locale"]:checked').val(),i=parseInt($("#units-visited").val()),o=parseFloat((s/i).toFixed(2)),c=0;for(let n=1;n<=11;n++)taxes[n][t].unit===o&&(c=n);0!==c?($("#tax-value").html(c),a.removeClass("d-none")):l.removeClass("d-none"),$("#calculate-tax-btn").html("Atualizar")}else e.stopPropagation();$(this).addClass("was-validated")}),$("#calculator").on("submit",function(e){if(e.preventDefault(),this.checkValidity()){let a=$("#number-sons").val(),l=0,s=0,t,i,o=$('input[name="taxe"]:checked').val(),c={},n=$('input[name="locale"]:checked').val(),r=parseInt($("#units-confirmed").val())+parseInt($("#units-included").val()),u={basic:parseInt(quizBasic.val()),sample:parseInt($("#quiz-sample").val())},p={basic:parseInt($("#people-basic").val()),sample:parseInt($("#people-sample").val())};o=taxes[o][n],c.units=r*o.unit,c.quiz=u.basic*o.basic.quiz+u.sample*o.sample.quiz,c.people=p.basic*o.basic.people+p.sample*o.sample.people,s+=c.units+c.quiz+c.people,$("#units").html(r),$("#quiz").html(u.basic+u.sample),$("#people").html(p.basic+p.sample),$("#units-value").html(currency(c.units)),$("#quiz-value").html(currency(c.quiz)),$("#people-value").html(currency(c.people)),s<=1655.98&&s>0?($("#quantity-sons").html(a),l=56.47*a):$("#family-salary").html("Sal\xe1rio fora da faixa contemplada!"),$("#family-salary-value").html(currency(l)),t=calcINSS(s),$("#percent-inss").html(t.taxe.toLocaleString("pt-br")),$("#inss-value").html(currency(t.discount)),s+=t.discount,i=calcIRRF(s),$("#percent-irrf").html(i.taxe.toLocaleString("pt-br")),$("#irrf-value").html(currency(i.discount)),s+=i.discount,s+=l,$("#income-value").html(currency(s)),$("#income").removeClass("d-none"),window.location.href="#income",$("#calculate-btn").html("Atualizar")}else e.stopPropagation();$(this).addClass("was-validated")}),$("#change-mode").on("click",()=>{changeTheme()}),quizBasic.on("change",()=>"0"===quizBasic.val()?$("#people-basic").val("0"):""),quizSample.on("change",()=>"0"===quizSample.val()?$("#people-sample").val("0"):"");